{"filter":false,"title":"create.php","tooltip":"/create.php","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":102,"column":7},"action":"insert","lines":["<?php ","\t","\trequire 'database.php';","","\tif ( !empty($_POST)) {","\t\t// keep track validation errors","\t\t$nameError = null;","\t\t$emailError = null;","\t\t$mobileError = null;","\t\t","\t\t// keep track post values","\t\t$name = $_POST['name'];","\t\t$email = $_POST['email'];","\t\t$mobile = $_POST['mobile'];","\t\t","\t\t// validate input","\t\t$valid = true;","\t\tif (empty($name)) {","\t\t\t$nameError = 'Please enter Name';","\t\t\t$valid = false;","\t\t}","\t\t","\t\tif (empty($email)) {","\t\t\t$emailError = 'Please enter Email Address';","\t\t\t$valid = false;","\t\t} else if ( !filter_var($email,FILTER_VALIDATE_EMAIL) ) {","\t\t\t$emailError = 'Please enter a valid Email Address';","\t\t\t$valid = false;","\t\t}","\t\t","\t\tif (empty($mobile)) {","\t\t\t$mobileError = 'Please enter Mobile Number';","\t\t\t$valid = false;","\t\t}","\t\t","\t\t// insert data","\t\tif ($valid) {","\t\t\t$pdo = Database::connect();","\t\t\t$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);","\t\t\t$sql = \"INSERT INTO customers (name,email,mobile) values(?, ?, ?)\";","\t\t\t$q = $pdo->prepare($sql);","\t\t\t$q->execute(array($name,$email,$mobile));","\t\t\tDatabase::disconnect();","\t\t\theader(\"Location: index.php\");","\t\t}","\t}","?>","","","<!DOCTYPE html>","<html lang=\"en\">","<head>","    <meta charset=\"utf-8\">","    <link   href=\"css/bootstrap.min.css\" rel=\"stylesheet\">","    <script src=\"js/bootstrap.min.js\"></script>","</head>","","<body>","    <div class=\"container\">","    ","    \t\t\t<div class=\"span10 offset1\">","    \t\t\t\t<div class=\"row\">","\t\t    \t\t\t<h3>Create a Customer</h3>","\t\t    \t\t</div>","    \t\t","\t    \t\t\t<form class=\"form-horizontal\" action=\"create.php\" method=\"post\">","\t\t\t\t\t  <div class=\"control-group <?php echo !empty($nameError)?'error':'';?>\">","\t\t\t\t\t    <label class=\"control-label\">Name</label>","\t\t\t\t\t    <div class=\"controls\">","\t\t\t\t\t      \t<input name=\"name\" type=\"text\"  placeholder=\"Name\" value=\"<?php echo !empty($name)?$name:'';?>\">","\t\t\t\t\t      \t<?php if (!empty($nameError)): ?>","\t\t\t\t\t      \t\t<span class=\"help-inline\"><?php echo $nameError;?></span>","\t\t\t\t\t      \t<?php endif; ?>","\t\t\t\t\t    </div>","\t\t\t\t\t  </div>","\t\t\t\t\t  <div class=\"control-group <?php echo !empty($emailError)?'error':'';?>\">","\t\t\t\t\t    <label class=\"control-label\">Email Address</label>","\t\t\t\t\t    <div class=\"controls\">","\t\t\t\t\t      \t<input name=\"email\" type=\"text\" placeholder=\"Email Address\" value=\"<?php echo !empty($email)?$email:'';?>\">","\t\t\t\t\t      \t<?php if (!empty($emailError)): ?>","\t\t\t\t\t      \t\t<span class=\"help-inline\"><?php echo $emailError;?></span>","\t\t\t\t\t      \t<?php endif;?>","\t\t\t\t\t    </div>","\t\t\t\t\t  </div>","\t\t\t\t\t  <div class=\"control-group <?php echo !empty($mobileError)?'error':'';?>\">","\t\t\t\t\t    <label class=\"control-label\">Mobile Number</label>","\t\t\t\t\t    <div class=\"controls\">","\t\t\t\t\t      \t<input name=\"mobile\" type=\"text\"  placeholder=\"Mobile Number\" value=\"<?php echo !empty($mobile)?$mobile:'';?>\">","\t\t\t\t\t      \t<?php if (!empty($mobileError)): ?>","\t\t\t\t\t      \t\t<span class=\"help-inline\"><?php echo $mobileError;?></span>","\t\t\t\t\t      \t<?php endif;?>","\t\t\t\t\t    </div>","\t\t\t\t\t  </div>","\t\t\t\t\t  <div class=\"form-actions\">","\t\t\t\t\t\t  <button type=\"submit\" class=\"btn btn-success\">Create</button>","\t\t\t\t\t\t  <a class=\"btn\" href=\"index.php\">Back</a>","\t\t\t\t\t\t</div>","\t\t\t\t\t</form>","\t\t\t\t</div>","\t\t\t\t","    </div> <!-- /container -->","  </body>","</html>"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":15,"column":19},"end":{"row":15,"column":19},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1428606784254,"hash":"2c5161644c4567778a707a86e4dfad2f4a71752c"}